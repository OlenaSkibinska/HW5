<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://cdn.jsdelivr.net/npm/vega@3"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@3"></script>

    <title>Vega-Lite Chart 4</title>
</head>
<body>
<div>
    <div id="viz"></div>
</div>
</body>

<script>
    var chart={
        "$schema":"https://vega.github.io/schema/vega-lite/v3.json",
        "data": {"url": "average_daily_temp.csv"},
        "vconcat":[{
            "width":400,
            "mark":"bar",
            "encoding": {
                "x": {
                    "field": "year",
                    "type": "temporal",
                    "scale": {"domain": {"selection": "brush"}},
                },

                "y": {
                    "field": "temp_mean",
                    "type":"quantitative"
                },
                "color": {
                    "field": "temp_mean",
                    "type": "quantitative",
                    "scale": {
                        "range": ["blue", "red"]
                    },

                    "legend": null
                }
        }
        },

            {
                "height":60,
                "width": 400,
                "selection": {
                    "brush": {"type": "interval", "encodings": ["x"]}
                },
                "mark": "bar",
                "encoding": {
                    "x": {
                        "field": "date",
                        "type": "temporal",
                    },

                    "y": {
                        "field": "temp_mean",
                        "type":"quantitative"
                    },

                },

    }
]}
    var opts ={
        "actions": false
    }

    vegaEmbed('#viz', chart, opts)
</script>

</html>